<Window x:Class="DSA.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DSA"
        mc:Ignorable="d"
        WindowStyle="None"
        ResizeMode="NoResize"
        Title="MainWindow" Height="800" Width="1200">

    <Window.Resources>
        <SolidColorBrush x:Key="colorWhite" Color="White" />
        <SolidColorBrush x:Key="coloLiterWhite" Color="#FFCBCBCB" />
        <SolidColorBrush x:Key="ColorGreat" Color="#FF171717" />
        <SolidColorBrush x:Key="ColorExtraGreat" Color="#FF0B0B0B" />
        <SolidColorBrush x:Key="ColorBlack" Color="Black" />

        <SolidColorBrush x:Key="PolarNight_4" Color="#2E3440" />
        <SolidColorBrush x:Key="PolarNight_3" Color="#3B4252" />
        <SolidColorBrush x:Key="PolarNight_2" Color="#434C5E" />
        <SolidColorBrush x:Key="PolarNight_1" Color="#4C566A" />

        <SolidColorBrush x:Key="Frost_4" Color="#5E81AC" />
        <SolidColorBrush x:Key="Frost_3" Color="#81A1C1" />
        <SolidColorBrush x:Key="Frost_2" Color="#88C0D0" />
        <SolidColorBrush x:Key="Frost_1" Color="#8FBCBB" />

        <SolidColorBrush x:Key="SnowStorm_3" Color="#D8DEE9" />
        <SolidColorBrush x:Key="SnowStorm_2" Color="#E5E9F0" />
        <SolidColorBrush x:Key="SnowStorm_1" Color="#ECEFF4" />


        <SolidColorBrush x:Key="Aurora_rad" Color="#BF616A" />


        <Style x:Key="BorderR10" TargetType="Border">
            <Setter Property="CornerRadius" Value="10"/>
        </Style>


        <Style x:Key="tabItem" TargetType="TabItem">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem" >
                        <Grid Name="Panel" Width="150" Height="25">
                            <ContentPresenter 
                                        x:Name="ContentSite"
                                        VerticalAlignment="Center" 
                                        HorizontalAlignment="Left"
                                        ContentSource="Header" 
                                        TextBlock.FontSize="15" 
                                        Margin="2,3"
                                        TextBlock.Foreground="{DynamicResource SnowStorm_1}"
                                    />
                            <Button Content="×" 
                                    x:Name="Btn"
                                    Click="OnTabCloseClick" 
                                    HorizontalAlignment="Right" 
                                    Foreground="{DynamicResource Aurora_rad}"  
                                    FontSize="20" 
                                    Padding="0,-6,0,0" 
                                    BorderBrush="{x:Null}" 
                                    Background="{x:Null}" 
                                    Width="20" Height="20" 
                                    FontWeight="Bold"/>
                        </Grid>


                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Panel" Property="Background" Value="{DynamicResource Frost_3}" />
                            </Trigger>
                            <Trigger Property="IsSelected" Value="False">
                                <Setter TargetName="Panel" Property="Background" Value="{DynamicResource PolarNight_3}" />
                            </Trigger>

                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>


        <Style TargetType="StackPanel" x:Key="GlobalStackPanelStyle">
            <Style.Resources>
                <Style TargetType="TextBlock">
                    <Setter Property="Background" Value="Green" />
                </Style>
                
                

               
            </Style.Resources>
        </Style>


    </Window.Resources>

    <Grid  Background="{DynamicResource PolarNight_1}">
        <Grid.RowDefinitions>
            <RowDefinition Height="25"/>
            <RowDefinition />
        </Grid.RowDefinitions>

        <Grid Background="{DynamicResource PolarNight_4}" 
              Grid.ColumnSpan="5"
              MouseDown="Grid_Mouse">
            <Button Content="🞄"  FontSize="60" Margin="1175,0,0,0"  Width="25" Height="25" Foreground="#FFFB5C5C" Background="{x:Null}" BorderBrush="{x:Null}" Click="Button_Click" Padding="1,-31,1,1" />
            <Button Content="🞄"  FontSize="60" Margin="1150,0,25,0"  Width="25" Height="25" Foreground="#FF5CD1FB" Background="{x:Null}" BorderBrush="{x:Null}" Click="Button_Click_SV"  Padding="1,-31,1,1" />
        </Grid>



        <TabControl  x:Name="MyTabControl" Grid.Row="2" Background="{DynamicResource Frost_3}">
            <TabControl.ItemTemplate>
                <DataTemplate >
                    <StackPanel Orientation="Horizontal">
                        
                        <TextBlock Text="{Binding Header, Mode=OneWay}" 
                                    VerticalAlignment="Center" 
                                    HorizontalAlignment="Left"
                                    TextBlock.FontSize="15" 
                                    Margin="2,3"
                                    Background="{DynamicResource Frost_3}" 
                                    TextBlock.Foreground="{DynamicResource Frost_3}"
                                   />
                        <Button Click="OnTabCloseClick" Padding="0" Margin="8 0 0 0"
                               HorizontalAlignment="Right" 
                               Foreground="{DynamicResource Aurora_rad}"  
                               FontSize="12" 
                               BorderBrush="{x:Null}" 
                               Background="{x:Null}" 
                               Width="20" Height="20" 
                               FontWeight="Bold"
                               Content="x">
                            <Button.Style>
                                <Style TargetType="Button" x:Name="CloseButtonStyle">
                                    <Setter Property="Visibility" Value="Visible"/>
                                    
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsPlaceholder}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                    </StackPanel>
                </DataTemplate>
            </TabControl.ItemTemplate>

            <!--
            -->
            
            <TabControl.ContentTemplate>
                <DataTemplate>
                    <ContentControl>
                        <ContentControl.Resources>
                            <ContentControl x:Key="TabContentTemplate" Content="{Binding Content}">
                                <!--
                                <StackPanel DataContext="{Binding Content}" Orientation="Vertical">
                                    <TextBlock Text="{Binding Path=Name}"/>
                                    <TextBlock Text="{Binding Path=Index}"/>
                                </StackPanel>
                                -->

                            </ContentControl>
                        </ContentControl.Resources>
                        <ContentControl.Style>
                            <Style TargetType="ContentControl">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsPlaceholder}" Value="True">
                                        <Setter Property="Content" Value="{x:Null}"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsPlaceholder}" Value="False">
                                        <Setter Property="Content" Value="{StaticResource TabContentTemplate}"/>
                                    </DataTrigger>
                                </Style.Triggers>

                            </Style>
                        </ContentControl.Style>
                    </ContentControl>
                </DataTemplate>
            </TabControl.ContentTemplate>
        </TabControl>




    </Grid>
</Window>
